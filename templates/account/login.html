<!-- amar ager so code login_by_me.html 
 ace ja 15-11-25 e change kore jodi kono error ase tahole sekan teke ta change kore nibo -->

{% extends "base.html" %}
{% load static %}

{% block title %}Login | Kinbo Shop{% endblock %}

{% block nav %}{% endblock %}
{% block category %}{% endblock %}

{% block content %}

<!-- ==========================
   VERIFICATION MESSAGE (from login_j.html)
============================= -->
{% if request.GET.command == 'verification' %}
<div class="max-w-xl mx-auto mt-24 bg-blue-100 text-blue-800 p-6 rounded-xl shadow text-center">
    <p class="font-semibold">
        Thank you for registering with us.  
        We have sent you a verification email to your email address.
    </p>

    <p class="mt-2">
        Already verified?
        <a href="{% url 'login' %}" class="text-orange-600 underline">Login</a>
    </p>
</div>

{% else %}

<!-- ==========================
   MAIN LOGIN PAGE (Tailwind)
============================= -->
<div class="min-h-screen flex items-center justify-center px-4 relative overflow-hidden">

    <!-- Background Gradient -->
    <div class="absolute inset-0 -z-20">
        <div class="w-full h-full bg-gradient-to-br from-orange-100 via-orange-50 to-orange-200 animate-gradient bg-[length:400%_400%]"></div>
    </div>

    <!-- Floating shapes -->
    <div class="absolute inset-0 -z-10">
        <div class="w-32 h-32 bg-orange-200 rounded-full absolute top-10 left-10 animate-bounce-slow opacity-50"></div>
        <div class="w-24 h-24 bg-orange-300 rounded-full absolute top-1/3 right-20 animate-bounce-slower opacity-40"></div>
        <div class="w-40 h-40 bg-orange-100 rounded-full absolute bottom-20 left-1/4 animate-bounce-slowest opacity-30"></div>
        <div class="w-20 h-20 bg-orange-200 rounded-full absolute bottom-10 right-10 animate-bounce-slow opacity-50"></div>
    </div>

    <!-- Login Card -->
    <div class="bg-white rounded-xl shadow-lg max-w-md w-full p-8 relative z-10 login-card-animation">

        <!-- Title -->
        <h2 class="text-3xl font-bold text-orange-700 text-center mb-6">
            Login to Kinbo
        </h2>

        <!-- Alerts Include (from login_j.html) -->
        {% include 'footer/alarts.html' %}

        <!-- Login Form -->
        <form action="{% url 'login' %}" method="POST" class="space-y-4">
            {% csrf_token %}

            <!-- Email -->
            <div>
                <input type="email" name="email" placeholder="Email"
                    class="w-full px-4 py-2 border border-gray-300 rounded focus:border-orange-500 focus:ring focus:ring-orange-200 outline-none transition">
            </div>

            <!-- Password + Eye Toggle -->
            <div class="relative">
                <input type="password" name="password" id="password" placeholder="Password"
                    class="w-full px-4 py-2 border border-gray-300 rounded focus:border-orange-500 
                           focus:ring focus:ring-orange-200 outline-none pr-10 transition">

                <button type="button" id="togglePassword"
                    class="absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-orange-600 transition">
                    <img src="{% static 'images/eye.png' %}" alt="Toggle Password" class="h-5 w-5">
                </button>
            </div>

            <!-- Remember + Forgot -->
            <div class="flex items-center justify-between text-sm">
                <label class="flex items-center space-x-2">
                    <input type="checkbox" name="remember" class="accent-orange-500">
                    <span>Remember me</span>
                </label>

                <a href="{% url 'forgotpassword' %}" 
                   class="text-orange-600 hover:underline hover:text-orange-700 transition">
                    Forgot password?
                </a>
            </div>

            <!-- Submit Button -->
            <button type="submit"
                class="w-full bg-orange-500 hover:bg-orange-600 text-white py-2 rounded font-semibold 
                       transition transform hover:scale-105">
                Login
            </button>
        </form>

        <!-- Signup -->
        <p class="text-center text-sm mt-4 text-gray-600">
            Don't have an account?
            <a href="{% url 'register' %}"
                class="text-orange-600 hover:underline font-semibold hover:text-orange-700 transition">
                Create Account
            </a>
        </p>

    </div>
</div>

{% endif %}

<!-- ========== Password Eye Toggle Script ========== -->
<script>
    const togglePassword = document.getElementById('togglePassword');
    const passwordInput = document.getElementById('password');

    togglePassword.addEventListener('click', () => {
        passwordInput.type =
            passwordInput.type === "password" ? "text" : "password";

        togglePassword.classList.add('animate-bounce-once');
        setTimeout(() => togglePassword.classList.remove('animate-bounce-once'), 300);
    });
</script>

<!-- ========== Tailwind Custom Animation ========== -->
<style>
    @keyframes bounce-slow { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-20px);} }
    @keyframes bounce-slower { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-15px);} }
    @keyframes bounce-slowest { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-10px);} }

    .animate-bounce-slow { animation:bounce-slow 6s infinite; }
    .animate-bounce-slower { animation:bounce-slower 8s infinite; }
    .animate-bounce-slowest { animation:bounce-slowest 10s infinite; }

    @keyframes gradientShift {
        0%{background-position:0% 50%;}
        50%{background-position:100% 50%;}
        100%{background-position:0% 50%;}
    }
    .animate-gradient { animation:gradientShift 15s ease infinite; background-size:400% 400%; }

    @keyframes fadeInUp {
        0%{opacity:0;transform:translateY(20px);}
        100%{opacity:1;transform:translateY(0);}
    }
    .login-card-animation { opacity:0; animation:fadeInUp 0.8s forwards 0.2s; }

    @keyframes bounceOnce {
        0%{transform:scale(1);}
        50%{transform:scale(1.3);}
        100%{transform:scale(1);}
    }
    .animate-bounce-once { animation:bounceOnce 0.3s ease forwards; }
</style>

{% endblock %}

{% block footer %}{% endblock %}
 